# LLREPO Makefile
# @configure_input@
# Copyright (C) 2007-2016 Devaev Maxim
# See file "LICENSE" for details
##

MKDIR=@MKDIR_PROG@
CP=@CP_PROG@
INS=@INSTALL@
LN=@LN_PROG@
RM=@RM_PROG@
PWD=@PWD_PROG@
CHMOD=@CHMOD_PROG@

LLREPO_PROG=llrepo
LLREPO_MAIN=src/llrepo.py
LLREPO_REPOS=src/repos.py

INS_LLREPO_PROG_DIR=@prefix@/bin/
INS_LLREPO_LIBS_DIR=@prefix@/lib/llrepo/

#####
all : $(LLREPO_MAIN)
	$(CP) $(LLREPO_MAIN) $(LLREPO_PROG)
	$(CHMOD) +x $(LLREPO_PROG)
	-$(LN) -s `$(PWD)`/$(LLREPO_PROG) ../../$(LLREPO_PROG)

install :
	$(MKDIR) -p $(INS_LLREPO_PROG_DIR)
	$(MKDIR) -p $(INS_LLREPO_LIBS_DIR)
	$(INS) $(LLREPO_PROG) $(INS_LLREPO_PROG_DIR)
	$(CP) $(LLREPO_REPOS) $(INS_LLREPO_LIBS_DIR)

uninstall :
	$(RM) -f $(INS_LLREPO_PROG_DIR)/$(LLREPO_PROG)
	$(RM) -rf $(INS_LLREPO_LIBS_DIR)

clean :
	$(RM) -f $(LLREPO_PROG) $(LLREPO_MAIN)
	$(RM) -f ../../$(LLREPO_PROG)
	$(RM) -f src/*.pyc

