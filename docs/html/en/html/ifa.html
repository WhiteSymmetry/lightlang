<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>IFA Technology (Integratable Friend Applications)</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <meta name="AUTHOR" content="Devaev Maxim">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<table border="0" width="100%"><tr><td bgcolor="#DFEDFF"><h2 align="center"><img src="lightlang.png" align="top" border="0"></h2></td></tr></table>
<hr>
<h2>IFA Technology (Integratable Friend Applications)</h2>
<hr>
&nbsp;&nbsp;&nbsp;<strong>IFA</strong> Technology (Integratable Friend Applications) allows applications to increase each other's functionality by adding the possibility to launch a certain application right from the running one and provides the possibility to execute random <strong>API</strong> of the parent application and after the start of child application.<br>
&nbsp;&nbsp;&nbsp;If one application (child) wants to increase other application's (parent's) functionality, giving the parent application a possibility to run itself with certain parameters, it has to give the parent application description of the method to run it and (maybe) a chain of necessary <strong>API</strong> functions, which would take some actions to the parent application before and after the start of a child one. It is achieved due to using simple <strong>XML</strong> files, which contain all the necessary information. Parent application reads that file and registers all the information about the application. Then (depending on the realization) it creates a menu item which, when activated, allows user to start a child application.<br>
&nbsp;&nbsp;&nbsp;This technology differs from the usual menu items due to the possibility of accessing to <strong>API</strong> of the parent process for <strong>XML</strong> file. This can be useful if, for example, a child application is installing some files which are used in the parent application, so after child application's work is finished an automatic update of the list of available files for the parent application can be run. Possibility to access <strong>API</strong> differs depending on the programming language which is used to write the program (or depending on the language of requests to <strong>API</strong>). In interpretable or byte-code compiled languages (<strong>Python</strong>, for example), execution of random functions can be performed using built-in features (<strong>exec</strong> in <strong>Python</strong>), other languages can require building in interpretators or other utilities for executing scripts. For example, realization for <strong>C++</strong> and <strong>Qt4</strong> can look like interpretation of <strong>QSA</strong>.<br>
&nbsp;&nbsp;&nbsp;<strong>IFA</strong> files also can localize to change program's description language. By default <strong>UTF-8</strong> is used, but there realization can be different.<br>
&nbsp;&nbsp;&nbsp;Here's an example of <strong>IFA</strong> file for <strong>XSL</strong>:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0">&nbsp;&nbsp;&nbsp;<font color="blue">&lt;?xml <font color="green">version=</font><font color="purple">"1.0"</font> <font color="green">encoding=</font><font color="purple">"UTF-8"</font>?&gt;</font><br>
&nbsp;&nbsp;&nbsp;<font color="blue">&lt;app&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;title&gt;</font>LLRepo Console<font color="blue">&lt;/title&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;title <font color="green">lang=</font><font color="purple">"ru"</font>&gt;</font>Консоль LLRepo<font color="blue">&lt;/title&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;description&gt;</font>LLRepo - root terminal mode<font color="blue">&lt;/description&gt;</font><br>
&nbsp;&nbsp;&nbsp;<font color="blue">&lt;description <font color="green">lang=</font><font color="purple">"ru"</font>&gt;</font>LLRepo - терминал root<font color="blue">&lt;/description&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;path&gt;</font>/usr/bin/xterm<font color="blue">&lt;/path&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;options&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e "echo To get started with LLRepo run su and enter the root password.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To learn more details about the available options, run man llrepo <font color="blue">&amp;amp;&amp;amp;</font> /bin/sh"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;/options&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;postcode <font color="green">lang=</font><font color="purple">"python"</font>&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;main.main_window.dicts_manager.update()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">&lt;/postcode&gt;</font><br>
&nbsp;&nbsp;&nbsp;<font color="blue">&lt;/app&gt;</font></td></tr></table><br>
&nbsp;&nbsp;&nbsp;In this example there are used tags that specify the name of the item (text of the menu item, a name of child application for example) by default and for Russian locale, description of the format (which is usually displayed in the pop-up or using information line of condition in the main window, just like it is in <strong>XSL</strong>), path to the executable file of a child application, its options and actions, that have to be executed after work of the child application is finished.<br>
&nbsp;&nbsp;&nbsp;At the recent actions should stay in more detail. Information, concluded between the tags <em>&lt;postcode&gt;...&lt;/postcode&gt;</em> specifies the sequence of functions of a parent application (<strong>API</strong>), which must be evoked after the child process is closed. Functions, depending on the realization, can be presented for executing as available for interpretator commands, fixed line constants and etc. In <strong>XSL</strong> this is realized using a special module which contains <em>main</em> object, which is a main object of the program, that you can use to call to any object or function of <strong>XSL</strong>. In this case we are calling to <em>update()</em> function, which is a part of <em>dicts_manager</em>, that is in the main window <em>main_window</em>, that we can call using <em>main</em> object. Necessary parameter <em>lang="python"</em> specifies the language, which is used to call application objects, in <strong>XSL</strong> it is also the language which is used to write a parent application (remember that request language and application language can be different, in that case request language must be specified as a parameter). Familiar syntax and participle of operation has <em>&lt;precode&gt;...&lt;/precode&gt;</em> tag, which specifies the code, that must be executed before starting a child application. Realization should guarantee the execution of functions described in these tags independently from the result of the work of a child application and other factors, if it is not obviously mentioned in executable functions. It is also guaranteed that all the functions will be executed linearly regardless of execution of the previous function within the bounds of tag, so if there are many functions listed then all of them will be executed, ignoring those that contain errors.<br>
<br>
<table border=1>
  <caption><h4><strong>XML</strong>-tags of description files of <strong>IFA</strong></h4></caption>
  <tbody>
    <tr>
      <td><em>title</em></td>
      <td>Specifies applications name. This text, for example, will be displayed as a menu item. An unnecessary parameter <em>lang</em> is possible for setting the language of the title. Tag has a priority with this parameter, that resets value from the tag by default (without parameter).</td>
    </tr>
    <tr>
      <td><em>description</em></td>
      <td>Used for describing the application. Works familiar to <em>title</em> tag, but sets its information, for example, in the status line of the main window of parent application on mouse on the menu item of a child application.</td>
    </tr>
    <tr>
      <td><em>icon</em></td>
      <td>Defines full path to the icon of a child application. Is displayed, for example, beside the corresponding menu item.</td>
    </tr>
    <tr>
      <td><em>path</em></td>
      <td>Defines full path to the executable file of a child application. Used for launching.</td>
    </tr>
    <tr>
      <td><em>options</em></td>
      <td>Line of options which will be transmitted to the executable file of a child application during the launch. Realization may also contain macroses which will be replased by the parent application by some of its variables during the launch. In the current realization they are absent.</td>
    </tr>
    <tr>
      <td><em>precode</em></td>
      <td>Marks the code of parent application that must be executed before launching a child application. It is best to put each function on its line. Tag must have a necessary parameter <em>lang</em> which will specify language for function requests.</td>
    </tr>
    <tr>
      <td><em>postcode</em></td>
      <td>Functions familiar to the previous tag, but the code is executed after the child process is finished its work..</td>
    </tr>
  </tbody>
</table>
<br>
&nbsp;&nbsp;&nbsp;In that way a more flexible way of integration (comparing with familiar methods) is reached.<br>
&nbsp;&nbsp;&nbsp;<strong>IFA</strong> in <strong>XSL</strong> is used for adding the possibility to launch other lingual applications in the <em>Tools --&gt; Applications</em> menu. Before creating the extension-file you'll need to write a full description in <strong>XML</strong>-file using the information above. If you want to use <em>&lt;precode&gt;</em> or <em>&lt;postcode&gt;</em> tags specify <em>lang="python"</em> as a parameter for each of the tags (in order to use the code you'll have to study the tree of constant objects in <strong>XSL</strong> sources). After that move the file (which should have <em>.xml</em> or <em>.ifa</em> extension) to <em>/usr/lib/xsl/ifa</em> (prefix <em>/usr</em> depends on a similar prefix, specified during the parameter installation). If the file is made correctly you'll be able to find a new menu item for your application after restarting <strong>XSL</strong>.
<br>
&nbsp;&nbsp;&nbsp;Author of the original idea and realization for <strong>XSL</strong> - <em>Devaev Maxim</em>. if you have questions about this technology you can ask them via e-mail (<a href="mailto:mdevaev@lightlang.org.ru?subject=LightLang, IFA" title="mdevaev@lightlang.org.ru">mdevaev@lightlang.org.ru</a>).
<hr>
</body>
</html>
