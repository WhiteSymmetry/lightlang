<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Работа в консоли с помощью SL</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <meta name="AUTHOR" content="Devaev Maxim">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<table border="0" width="100%"><tr><td bgcolor="#DFEDFF"><h2 align="center"><a href="index.html"><img src="lightlang.png" align="top" border="0"></a></h2></td></tr></table>
<hr>
<h2>Работа в консоли с помощью SL</h2>
<hr>

&nbsp;&nbsp;&nbsp;<strong>SL</strong> - поисковое ядро, главная программа пакета <strong>LightLang</strong>. Она обеспечивает всю базовую функциональность словаря - поиск, управление словарями, сборку индексов. <strong>SL</strong> можно эффективно использовать в консоли, используя опции командной строки.<br>
<br>
<br>
<h3>Опции поиска</h3>
&nbsp;&nbsp;&nbsp;Чтобы найти слово, используйте команду (поиск по умолчанию):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl слово</tt></td></tr></table>
<br>
&nbsp;&nbsp;&nbsp;То же самое делает опция <em>-u</em> (<em>--usualy</em>):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -u слово</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Если вы указали какие-либо опции командной строки, то поиск по умолчанию производиться не будет, если вы в явном виде не укажите опцию поиска, например:<br>
<table border="0" width="100%"><tr><td bgcolor="#fffbe0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -t --output-format=native -u alien</tt></td></td></table>
<br>
&nbsp;&nbsp;&nbsp;Чтобы найти словосочетание, необходимо заключить его в кавычки:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl "несколько слов"</tt></td></tr></table>
<br>
&nbsp;&nbsp;&nbsp;Чтобы найти первое же слово, которое начинается на введенные символы, используйте опцию <em>-f</em> (<em>--first-concurrence</em>):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -f первые_буквы_слова</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Поиск в этом режиме так же запускается автоматически, если не было найдено ни одного слова при обычном поиске.<br>
<br>
&nbsp;&nbsp;&nbsp;Чтобы применить расширенный поиск, воспользуйтесь опцией <em>-c</em> (<em>--word-combinations</em>):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -c слово</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Будут найдены все возможные словосочетания с этим словом.<br>
<br>
&nbsp;&nbsp;&nbsp;Если вы забыли слово, то вы можете использовать опцию <em>-l</em> (<em>--list</em>):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -l первые_буквы_слова</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Первыми буквами слова могут быть, например <em>hell</em>. После этого программа напечатает все слова, которые начинаются с этих символов. Среди них обязательно будет искомое слово, такое как <em>hello</em>. Если вы все же не нашли требуемого, то сократите количество  символов на один с конца (так <em>hell</em> превратиться в <em>hel</em>).<br>
<br>
&nbsp;&nbsp;&nbsp;Если вы не знаете точного написания слова, то можете попытаться найти слово, написание которого, как вам кажется, наиболее правильное, используя опцию <em>-i</em> (<em>--ill-defined</em>):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -i countr</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Среди списка слов окажется нужное вам слово, например <em>counter</em>. Эту опцию так же возможно использовать следующим образом:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -p 50 -i countr</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Дополнительный аргумент (<em>-p</em> (<em>--percent</em>) <em>50</em>) представляет собой указание процента несовпадающих символов. По умолчанию - <em>40</em>, это оптимальное значение.<br>
<br>
&nbsp;&nbsp;&nbsp;Если вы установили набор звуков, можете прослушать произношение слова, используя опцию <em>-s</em> (<em>--sound</em>):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl -s набор:слово</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Параметр <em>набор</em> - это имя установленного набора звуков, например, <em>en</em>. В переводе слова (при различных) в квадратных скобках так же указывается, какой именно запрос необходимо составить, чтобы передать его данной опции.<br>
<br>
<br>
<h3>Опции справки</h3>
&nbsp;&nbsp;&nbsp;Опция <em>--help</em> выводит на экран краткую справку.<br>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>--version</em> выводит на экран версию программы.<br>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>--debug</em> выводит отладочную информацию.<br>
<br>
<br>
<h3>Опции управления словарями</h3>
&nbsp;&nbsp;&nbsp;Опция <em>--connect</em> подключает указанный словарь для использования:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --connect "dict"</tt></td></tr></table>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>--disconnect</em> отключает указанный словарь (слова в нем искаться не будут):<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --disconnect "dict"</tt></td></tr></table>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>--print-info</em> выводит список всех словарей и список подключенных словарей:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --print-info</tt></td></tr></table>
<br>
&nbsp;&nbsp;&nbsp;Вы можете добавить собственный локальный словарь, воспользовавшись опцией <em>--install</em>:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --install "file"</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Затем, если вы хотите подключить его, воспользуйтесь опцией --connect, как показано выше.<br>
&nbsp;&nbsp;&nbsp;Добавляемый словарь должен быть проиндексирован или в нем должнен присутствовать тег <em>[noindex]</em>. В противном случая словарный файл считается некорректным. О том, как проиндексировать файл вручную, написано ниже.<br>
<br>
&nbsp;&nbsp;&nbsp;Можно так же удалить установленный словарь, используя опцию <em>--uninstall</em>:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --uninstall "dict"</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Перед удалением необходимо отключить словарь.<br>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>--use-list</em> устанавливает список словарей, в которых должен производиться поиск. Поиск происходит не зависимо от того, подключен словарь или нет. Для разделения словарей используются символы <em>"|"</em>, весь список же заключается в одиночные ковычки:
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --use-list 'dict1|dict2|dict3' ...</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Эта опция используется графическими оболочками для того, чтобы пользователь мог устанавливать собственный порядок вызова словарей вместо используемого по умолчанию ("подключенные" словари).
<br>
&nbsp;&nbsp;&nbsp;Опция --print-index индексирует указанный файл:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --print-index "file"</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Программа выводит на стандартный вывод (экран) определенного вида списко - это индекс указанного словаря. О его формате написано в главе <a href="sl_dictionary_format.html">Формат словарей SL</a>. После записи индекса нужно еще раз проиндексировать словарь, поскольку после записи первого индекса относительное смещение внутри файла изменится. Новый индекс нужно записать поверх старого.<br>
&nbsp;&nbsp;&nbsp;Типичный алгоритм индексации и установки словаря выглядит следующим образом:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --print-index dict &gt; /tmp/dict1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cat dict &gt;&gt; /tmp/dict1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --print-index /tmp/dict1 &gt; /tmp/dict2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cat dict &gt;&gt; /tmp/dict2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mv /tmp/dict2 dict<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl --install dict</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Алгоритм, возможно, покажется вам сложным, он вызван техническими особенностями реализации системы. Однако, если вы устанавливаете словарь из Интернета, используя <a href="llrepo_usage.html">LLRepo</a>, все эти операции выполняются в автоматическом режиме.<br>
&nbsp;&nbsp;&nbsp;Если вы не хотите использовать индексацию, в начале файла пропишите тег <em>[noindex]</em>.<br>
<br>
<br>
<h3>Опции настроек</h3>
&nbsp;&nbsp;&nbsp;Опция <em>--output-format=html|text|native</em> устанавливает формат вывода программы. По умолчанию используется <em>text</em>. Дополнительно доступные опции выводят перевод в виде отформатированного <strong>HTML</strong>-кода (опция <em>html</em>, используется, например, в оболочках) или в том виде, в каком они записаны в самом файле (<em>native</em>).<br>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>--use-terminal-escapes=yes|no</em> устанавливает разрешение на использование <strong>ESC</strong>-последовательностей терминала для цветового форматирования. По умолчанию разрешено, если стандартный вывод является терминалом, опция же используется для принудительной установки разрешения. В случае, если вы запускаете <strong>SL</strong> на другой <strong>UNIX</strong>-системе (не <strong>Linux</strong>), эти последовательности могут работать некорректно. В таком случае, пропишите следующую строку в ваш файл <em>.bashrc</em>, находящийся в домашнем каталоге:
<table border="0" width="100%"><tr><td bgcolor="#fffbe0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias sl='sl --use-terminal-escapes=no'</tt></td></td></table>
&nbsp;&nbsp;&nbsp;Этот же метод можно использовать для любой тонкой настройки опций <strong>SL</strong>
<br>
&nbsp;&nbsp;&nbsp;Опция <em>-t</em> (<em>--show-time</em>) заставляет программу показывать время, затраченное на поиск.<br>
<br>
<br>
<h3>Переменные окружения</h3>
&nbsp;&nbsp;&nbsp;При использовании в консоли можно экспортировать переменную окружения <em>COLUMNS</em>, тогда вывод программы (для режима <em>text</em>) будет выравниваться по ширине всей консоли:<br>
<table border="0" width="100%"><tr><td bgcolor="#FFFBE0"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;export COLUMNS</tt></td></tr></table>
&nbsp;&nbsp;&nbsp;Для того, чтобы не пришлось постоянно выполнять эту команду перед использованием <strong>SL</strong>, вы можете так же прописать ее в файл <em>.bashrc</em>.
<br>
&nbsp;&nbsp;&nbsp;<strong>SL</strong> определяет домашний каталог пользователя через переменную <em>HOME</em>. Изменив ее, можно заставить искать другой каталог настроек <em>.sl</em>, по умолчанию хранящийся в домашнем каталоге пользователя. В данном каталоге находится несколько символических ссылок на подключенные словари. Сами же словари, по умолчанию (если вы не меняли префикс инсталляции) находятся в каталоге <em>/usr/share/sl/dicts</em> (звуки находятся рядом, <em>/usr/share/sl/sounds</em>).

<hr>

</body>
</html>
